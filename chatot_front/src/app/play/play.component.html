<div class="flex flex-column" style="gap: 1em">
    <div class="flex justify-content-center align-items-center" style="gap: 2em">
        <h3 style="margin: 0;">Round {{room.questionIndex+1}} / {{room.params.nbRounds}}</h3>
        <audio controls autoplay *ngIf="room.IsPlaying; else fakeAudio">
            <source [src]="'/sounds/'+room.currentQuestion.answer.toString().padStart(4, '0')+'.ogg'" type="audio/ogg">
            Your browser does not support the audio element.
        </audio>
        <ng-template #fakeAudio>
            <audio controls>
                <source src="prout" type="audio/ogg">
            </audio>
        </ng-template>
    </div>

    <div id="propositions">
        <app-guess-card *ngFor="let proposition of room.currentQuestion.propositions"
            [pkid]="proposition"
            [correct]="answer > 0 && proposition === room.currentQuestion.answer"
            [wrong]="proposition === answer && answer !== room.currentQuestion.answer"
            [disabled]=" answer > 0"
            (onClick)="sendAnwser(proposition)"
        ></app-guess-card>
    </div>

    <div class="col-12 flex justify-content-center">
        <div *ngIf="room.IsPlaying" class="timer">
            <img src="/ui/timer.png" alt="">
            <img *ngFor="let bar of barsArray$ |async" [src]="'/ui/' + (bar ? 'green' : 'red') + '_bar.png'">
        </div>
        <ng-container *ngIf="room.isBeetweenRound">
            New round starting soon ...
        </ng-container>
    </div>
</div>
